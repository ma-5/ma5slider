/*!
 *   MA5-Slider
 *   v 1.0.0
 *   Copyright (c) 2016 Tomasz Kalinowski
 *   http://ma5slider.ma5.pl
 *   GitHub: https://github.com/ma-5/ma5slider
 *
 */

function ma5sliderGetParameters(e){var a={slider:e,width:$(e+" .slides").width(),height:$(e+" .slides").height(),slideCount:Number($(e+" .slides > *").length)-1,loopMode:$(e).hasClass("loop-mode"),currentSlide:Number($(e+" .slide--active").index())+1,initialAnim:$(e).attr("data-initial-anim")};return a}function ma5sliderGoToSlide(e,a){$(document).ready(function(){var s=ma5sliderGetParameters(e),d=a;return d!==s.currentSlide&&($(e).removeClass("drag-prev drag-next"),s.loopMode===!1&&(s.currentSlide<d?$(e).removeClass("dir-prev").addClass("dir-next"):$(e).removeClass("dir-next").addClass("dir-prev")),$(e+" .slide").removeClass("slide--prev"),$(e+" .slide").removeClass("slide--next"),$(e+" .slide:nth-child("+d+")").addClass("slide--prev js-np"),$(e+' > .dots .dot[data-target="'+d+'"]').addClass("active").siblings().removeClass("active"),ma5sliderFirstLastDetect(e,d),ma5sliderUpdateAnim(e,d),setTimeout(function(){$(e+" .slide--active.js-oa").addClass("transition-on").removeClass("slide--active js-oa").addClass("slide--next js-to-del"),$(e+" .slide--prev.js-np").addClass("transition-on").removeClass("slide--prev js-op js-np").addClass("slide--active js-na"),1==d?$(e+" .slide:nth-child("+s.slideCount+")").addClass("slide--prev js-np"):$(e+" .slide:nth-child("+(d-1)+")").addClass("slide--prev js-np"),d==s.slideCount?$(e+" .slide:nth-child(1)").addClass("slide--next js-nn"):$(e+" .slide:nth-child("+(d+1)+")").addClass("slide--next js-nn"),ma5sliderUpdateDotsColors(e),ma5sliderUpdateNavsColors(e),ma5sliderUpdateDirection(e),$(e+" .js-na").on("webkitTransitionEnd otransitionend oTransitionEnd msTransitionEnd transitionend",function(){return d==s.slideCount?$(e+" .js-to-del").removeClass("slide--next transition-on js-on"):$(e+" .js-to-del").removeClass("slide--next transition-on"),$(e+" .js-na").removeClass("transition-on"),1==s.currentSlide&&d==s.slideCount&&$(e+" .slide:nth-child(1)").addClass("slide--next"),d==s.currentSlide-1&&$(e+" .slide:nth-child("+(d+1)+")").addClass("slide--next"),$(e+" .slide").removeClass("js-op js-oa js-on js-np js-na js-nn js-to-del"),$(e+" > .dots").removeClass("dots-disabled"),$(e+" .slides > .slide--prev").addClass("js-op"),$(e+" .slides > .slide--active").addClass("js-oa"),$(e+" .slides > .slide--next").addClass("js-on"),$(e).removeClass("disabled"),$(e).removeClass("transition-on"),d=0,s.currentSlide=0,s.slideCount=0,jQuery().draggable&&$(e+" .slides").ma5draggable(),!1})},50)),!1})}function ma5autoplay(e,a){var s=ma5sliderGetParameters(a),d=s.currentSlide,t=setInterval(function(){d++,d>s.slideCount&&(d=1),ma5sliderGoToSlide(a,d)},e);$(a).on("touch click",function(){return clearInterval(t),!0}),$(a+" .slides").mousemove(function(){if($(this).is(".ui-draggable-dragging"))return clearInterval(t),!0})}function ma5makeNav(e){$(e).hasClass("vertical-navs")||$(e).addClass("horizontal-navs"),$(e).hasClass("outside-navs")||$(e).addClass("inside-navs"),$(e+" .navs-wrapper").append('<span class="nav--prev"></span><span class="nav--next"></span>')}function ma5makeDots(e){var a=ma5sliderGetParameters(e);$(e).hasClass("inside-dots")||$(e).addClass("outside-dots"),$(e).hasClass("vertical-dots")||($(e).addClass("horizontal-dots"),$(e).hasClass("left-dots")||$(e).hasClass("right-dots")||$(e).addClass("center-dots"),$(e).hasClass("top-dots")||$(e).addClass("bottom-dots")),$(e).hasClass("vertical-dots")&&($(e).hasClass("left-dots")||$(e).hasClass("right-dots")||$(e).addClass("right-dots"),$(e).hasClass("outside-navs horizontal-navs")&&($(e).removeClass("outside-dots"),$(e).addClass("inside-dots right-dots"))),$(e).hasClass("vertical-dots")&&($(e).hasClass("top-dots")&&$(e).hasClass("bottom-dots")||$(e).addClass("middle-dots")),$(e).hasClass("top-dots")?$(e).prepend('<span class="dots"></span>'):$(e).append('<span class="dots"></span>');for(var s=1;s<=a.slideCount;s++)$(e+" > .dots").append('<span class="dot" data-target="'+s+'"></span>');$(e+" > .dots > .dot:first-of-type").addClass("active")}function ma5sliderUpdateDotsColors(e){if(void 0!==$(e+" .slide--active").attr("data-ma5-dot")){var a=$(e+" .slide--active").attr("data-ma5-dot");$(e+' .dot:not(".active")').css("background-color",a)}else $(e+' .dot:not(".active")').css("background-color","");if(void 0!==$(e+" .slide--active").attr("data-ma5-dot-active")){var s="background-color:"+$(e+" .slide--active").attr("data-ma5-dot-active");$(e+" .dot.active").attr("style",s)}else $(e+" .dot.active").css("background-color","")}function ma5sliderUpdateNavsColors(e){if(void 0!==$(e+" .slide--active").attr("data-ma5-nav")){var a=$(e+" .slide--active").attr("data-ma5-nav");$(e+" .nav--prev, "+e+" .nav--next").css("color",a)}else $(e+" .nav--prev, "+e+" .nav--next").css("color","")}function ma5sliderUpdateAnim(e,a){if(void 0!==$(e+" .slide:nth-child("+a+")").attr("data-ma5-anim")){var s=$(e+" .slide:nth-child("+a+")").attr("data-ma5-anim");$(e).removeClass("anim-horizontal anim-vertical anim-fade").addClass(s)}else $(e).removeClass("anim-horizontal anim-vertical anim-fade").addClass($(e).attr("data-initial-anim"))}function ma5sliderUpdateDirection(e){if(void 0!==$(e+" .slide--active").attr("data-ma5-nav-prev-dir")){var a=$(e+" .slide--active").attr("data-ma5-nav-prev-dir");$(e+" .nav--prev").addClass(a)}else $(e+" .nav--prev").removeClass("nav__top nav__bottom");if(void 0!==$(e+" .slide--active").attr("data-ma5-nav-next-dir")){var s=$(e+" .slide--active").attr("data-ma5-nav-next-dir");$(e+" .nav--next").addClass(s)}else $(e+" .nav--next").removeClass("nav__top nav__bottom")}function ma5sliderGoToNext(e){$(document).ready(function(){var a=ma5sliderGetParameters(e);if(!$(e).hasClass("disabled"))if(counter=a.currentSlide,counter++,counter>a.slideCount){if(a.loopMode!==!0)return!1;counter=1,$(e).removeClass("dir-prev").addClass("dir-next disabled"),ma5sliderGoToSlide(e,counter)}else $(e).removeClass("dir-prev").addClass("dir-next disabled"),ma5sliderGoToSlide(e,counter)})}function ma5sliderGoToPrev(e){$(document).ready(function(){var a=ma5sliderGetParameters(e);$(e).hasClass("disabled")||(counter=a.currentSlide,counter--,counter<1&&(counter=a.slideCount),$(e).removeClass("dir-next").addClass("dir-prev disabled"),ma5sliderGoToSlide(e,counter))})}function ma5sliderGoToFirst(e){$(document).ready(function(){ma5sliderGetParameters(e);$(e).hasClass("disabled")||($(e).removeClass("dir-next").addClass("dir-prev disabled"),ma5sliderGoToSlide(e,1))})}function ma5sliderGoToLast(e){$(document).ready(function(){var a=ma5sliderGetParameters(e);$(e).hasClass("disabled")||($(e).removeClass("dir-prev").addClass("dir-next disabled"),ma5sliderGoToSlide(e,a.slideCount))})}function updateAfterPrevDrag(e){var a=ma5sliderGetParameters(e),s=a.currentSlide-1;$(e).removeClass("dir-next").addClass("dir-prev "+a.initialAnim),s>0?$(e+' > .dots .dot[data-target="'+s+'"]').addClass("active").siblings().removeClass("active"):$(e+' > .dots .dot[data-target="'+a.slideCount+'"]').addClass("active").siblings().removeClass("active"),$(e+" .slide").removeClass("js-op js-oa js-on"),$(e+" .slides > .slide--next").removeClass("slide--next"),$(e+" .slides > .slide--active").removeClass("slide--active").addClass("slide--next js-on"),$(e+" .slides > .slide--prev").removeClass("slide--prev").addClass("slide--active js-oa"),1!=s?$(e+" .slides > .slide--active").prev().addClass("slide--prev js-op"):$(e+" .slides > .slide").last().addClass("slide--prev js-op"),$(e+" .slides").removeClass("dragged-prev-end dragged-next-end"),$(e+" .slides").ma5draggable(),ma5sliderFirstLastDetect(e,s),ma5sliderUpdateDotsColors(e),ma5sliderUpdateNavsColors(e),ma5sliderUpdateDirection(e)}function updateAfterNextDrag(e){var a=ma5sliderGetParameters(e),s=a.slideCount-1;$(e).removeClass("dir-prev").addClass("dir-next "+a.initialAnim),a.currentSlide<=s?$(e+' > .dots .dot[data-target="'+(a.currentSlide+1)+'"]').addClass("active").siblings().removeClass("active"):$(e+' > .dots .dot[data-target="1"]').addClass("active").siblings().removeClass("active"),$(e+" .slide").removeClass("js-op js-oa js-on"),$(e+" .slides > .slide--prev").removeClass("slide--prev"),$(e+" .slides > .slide--active").removeClass("slide--active").addClass("slide--prev js-op"),$(e+" .slides > .slide--next").removeClass("slide--next").addClass("slide--active js-oa"),a.currentSlide!=s?$(e+" .slides > .slide--active").next().addClass("slide--next js-on"):$(e+" .slides > .slide").first().addClass("slide--next js-on"),$(e+" .slides").removeClass("dragged-prev-end dragged-next-end"),$(e+" .slides").ma5draggable(),ma5sliderFirstLastDetect(e,a.currentSlide+1),ma5sliderUpdateDotsColors(e),ma5sliderUpdateNavsColors(e),ma5sliderUpdateDirection(e)}function externalControl(e){var a=$(e).attr("data-ma5slider"),s=ma5sliderGetParameters(a);if(!$(a+" > .dots").hasClass("dots-disabled")){var d=$(e).attr("data-ma5slide");d>s.currentSlide?$(a).removeClass("dir-prev").addClass("dir-next"):d<s.currentSlide?$(a).removeClass("dir-next").addClass("dir-prev"):"next"==d?($(a).removeClass("dir-prev").addClass("dir-next"),d=s.currentSlide+1,d>s.slideCount&&(d=1)):"previous"==d?($(a).removeClass("dir-next").addClass("dir-prev"),d=s.currentSlide-1,d<1&&(d=s.slideCount)):"first"==d?($(a).removeClass("dir-next").addClass("dir-prev"),d=1):"last"==d&&($(a).removeClass("dir-prev").addClass("dir-next"),d=s.slideCount),d!=s.currentSlide&&($(a+" > .dots").addClass("dots-disabled"),ma5sliderGoToSlide(a,Number(d)))}}function ma5sliderFirstLastDetect(e,a){var s=ma5sliderGetParameters(e);$('.ma5slider__control[data-ma5slider="'+e+'"]').removeClass("targeted"),$('.ma5slider__control[data-ma5slider="'+e+'"][data-ma5slide='+a+"]").addClass("targeted"),s.loopMode!==!0&&($(e).removeClass("last-slide first-slide"),a==s.slideCount&&($(e).addClass("last-slide"),$('.ma5slider__control[data-ma5slider="'+e+'"][data-ma5slide="next"]').addClass("targeted"),$('.ma5slider__control[data-ma5slider="'+e+'"][data-ma5slide="last"]').addClass("targeted")),1==a&&($(e).addClass("first-slide"),$('.ma5slider__control[data-ma5slider="'+e+'"][data-ma5slide="previous"]').addClass("targeted"),$('.ma5slider__control[data-ma5slider="'+e+'"][data-ma5slide="first"]').addClass("targeted")))}function ma5sliderGoToSlideDotTarget(e,a){var s=ma5sliderGetParameters(e);$(e+" > .dots").hasClass("dots-disabled")||(a>s.currentSlide&&$(e).removeClass("dir-prev").addClass("dir-next"),a<s.currentSlide&&$(e).removeClass("dir-next").addClass("dir-prev"),a!=s.currentSlide&&($(e+" > .dots").addClass("dots-disabled"),ma5sliderGoToSlide(e,a)))}function ma5slider(e){var a=".ma5slider";void 0!==e.slider&&(a=e.slider);var s=$(a).data("ma5slider");if(void 0===s){if($(a).data("ma5slider",{slider:a}),$(a).length){var d=ma5sliderGetParameters(a),t=Number($(a).attr("data-tempo"));d.loopMode!==!0&&$(a).addClass("first-slide"),void 0===t&&(t=3e3);var i=$(a).attr("class");void 0!==i&&(~i.indexOf("anim-")||$(a).addClass("anim-horizontal"));var r="anim-horizontal";$(a).hasClass("anim-vertical")?r="anim-vertical":$(a).hasClass("anim-fade")&&(r="anim-fade");const l=r;if($(a).attr("data-initial-anim",l).addClass("dir-next"),$(a+" > .slides").attr("data-ma5elm",a),$(a+" > .slides").children().addClass("slide"),$(a+" > .slides").append('<canvas class="canvas" width="'+d.width+'" height="'+d.height+'"></canvas>'),d.slideCount<1)return $(a+" .slides > .slide").addClass("slide--active"),$(a).removeClass("inside-dots, outside-dots, left-dots, center-dots, right-dots, top-dots, bottom-dots").addClass("one-slide"),!1;$(a+" .slides > .slide:nth-child("+(d.slideCount+1)+")").addClass("slide--prev js-op"),$(a+" .slides > .slide:nth-child(1)").addClass("slide--active js-oa"),$(a+" .slides > .slide:nth-child(2)").addClass("slide--next js-on"),1==d.slideCount&&$(a).addClass("safe-slides"),$(a+" .slides").wrap('<div class="navs-wrapper"><div class="slide-area"></div></div>'),~i.indexOf("-navs")||$(a).addClass("hidden-navs"),~i.indexOf("-dots")||$(a).addClass("hidden-dots"),ma5makeNav(a),ma5makeDots(a),ma5sliderUpdateDotsColors(a),ma5sliderUpdateNavsColors(a),ma5sliderUpdateDirection(a),ma5sliderUpdateAnim(a,1),ma5sliderFirstLastDetect(a,1),$(a+" .slides").attr("data-ma5elm-width",$(a+" .slides").width()),$(a+" .slides").attr("data-ma5elm-height",$(a+" .slides").height()),jQuery().draggable&&$(a+" .slides").ma5draggable(),$(a+" .nav--next").on("touch click",function(){ma5sliderGoToNext(a)}),$(a+" .nav--prev").on("touch click",function(){ma5sliderGoToPrev(a)}),$(a+" .dot").on("touch click",function(){var e=Number($(this).attr("data-target"));ma5sliderGoToSlideDotTarget(a,e)}),$(".ma5slider__control").on("touch click",function(){externalControl(this)}),$(a).hasClass("autoplay")&&ma5autoplay(t,a)}}else $(document).ready(function(){$(a+" .slides").attr("data-ma5elm-width",$(a+" .slides").width()),$(a+" .slides").attr("data-ma5elm-height",$(a+" .slides").height()),$(a+" .slides").ma5draggable()})}$(document).ready(function(){$(document).on("dragstart",".ma5slider a",function(){return!1})}),$(window).resize(function(){ma5slider({slider:".ma5slider"})}),jQuery().draggable&&!function(e){e.fn.ma5draggable=function(){return e.globalVars={originalTop:0,originalLeft:0},this.each(function(){var a=e(this).attr("data-ma5elm"),s=ma5sliderGetParameters(a),d=Number(e(this).attr("data-ma5elm-width")),t=Number(e(this).attr("data-ma5elm-height")),i={maxWidth:d,maxHeight:t,itemWidthBreakpoint:d/5,itemWidthBreakpointSub:d/5*-1,itemHeightBreakpoint:t/5,itemHeightBreakpointSub:t/5*-1,maxHeightTop:t/5,maxHeightBottom:t*-1/5,maxWidthLeft:d/5,maxWidthRight:d*-1/5};"anim-horizontal"==s.initialAnim,e(this).draggable({axis:"x",revert:!0,start:function(a,s){void 0!==s.position&&(e.globalVars.originalLeft=s.position.left)},drag:function(d,t){e(a).removeClass("dir-next dir-prev anim-fade anim-vertical").addClass("anim-horizontal");var r=t.position.left;if(t.position.left<i.maxWidthRight&&(r=i.maxWidthRight),t.position.left>i.maxWidthLeft&&(r=i.maxWidthLeft),t.position.left=r,t.position.left>0){if(s.loopMode===!1&&0===e(s.slider+" .slide--active").index());else if(e(a).removeClass("drag-next").addClass("drag-prev dir-prev"),t.position.left>=i.itemWidthBreakpoint)return e(this).draggable("option","revert",!1),e(this).animate({left:i.maxWidth},300,function(){e(this).addClass("dragged-prev-end").removeAttr("style"),updateAfterPrevDrag(a)}),!1}else if(s.loopMode===!1&&s.currentSlide==s.slideCount);else if(e(a).removeClass("drag-prev").addClass("drag-next dir-prev"),t.position.left<=i.itemWidthBreakpointSub)return e(this).draggable("option","revert",!1),e(this).animate({left:i.maxWidth*-1},300,function(){e(this).addClass("dragged-next-end").removeAttr("style"),updateAfterNextDrag(a)}),!1}}),"anim-vertical"==s.initialAnim&&e(this).draggable({axis:"y",revert:!0,start:function(a,s){void 0!==s.position&&(e.globalVars.originalTop=s.position.top)},drag:function(d,t){e(a).removeClass("dir-next dir-prev anim-fade anim-horizontal").addClass("anim-vertical");var r=t.position.top;if(t.position.top>i.maxHeightTop&&(r=i.maxHeightTop),t.position.top<i.maxHeightBottom&&(r=i.maxHeightBottom),t.position.top=r,t.position.top>0){if(s.loopMode===!1&&0===e(s.slider+" .slide--active").index());else if(e(a).removeClass("drag-next").addClass("drag-prev dir-prev"),t.position.top>=i.itemHeightBreakpoint)return e(this).draggable("option","revert",!1),e(this).animate({top:i.maxHeight},300,function(){e(this).addClass("dragged-prev-end").removeAttr("style"),updateAfterPrevDrag(a)}),!1}else if(s.loopMode===!1&&s.currentSlide==s.slideCount);else if(e(a).removeClass("drag-prev").addClass("drag-next dir-prev"),t.position.top<=i.itemHeightBreakpointSub)return e(this).draggable("option","revert",!1),e(this).animate({top:i.maxHeight*-1},300,function(){e(this).addClass("dragged-next-end").removeAttr("style"),updateAfterNextDrag(a)}),!1}})}),this}}(jQuery);